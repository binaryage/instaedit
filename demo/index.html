<html>
	<head>
		<meta charset="utf-8" /> 
		<title> Instaedit demo  </title>

		<script>
			var instaedit_loaded = false;

			function instaedit() {
				if(!instaedit_loaded) {
					addJavascript('../src/instaedit-worker.js');
					addJavascript('./js/parser-example.js');
				} else {
					console.log('Instaedit already loaded!');
				}
			}

			function addJavascript(name) {
				var th = document.getElementsByTagName('head')[0];
				var s = document.createElement('script');
				s.setAttribute('type', 'text/javascript');

				var id = new Date().getTime();
				s.setAttribute('src', name + '?id' + id);

				th.appendChild(s);
			}
		</script>

		<script type="instaedit/rawdata">
			You can edit this content via Edit button, placed on the bottom of this site.
		</script>
	</head>
	<body>
		<h1> Instaedit demo </h1>

		<section id="instaeditable">
			You can edit this content via Edit button, placed on the bottom of this site.
		</section>

		<button id="instaedit-edit" onclick="instaedit()">Edit</button>
	</body>
</html>